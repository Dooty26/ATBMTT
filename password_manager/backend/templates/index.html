<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω M·∫≠t Kh·∫©u</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="container">
        <!-- Trang ƒëƒÉng nh·∫≠p/ƒëƒÉng k√Ω -->
        <div id="auth-section" class="auth-section">
            <div class="auth-container">
                <h1>Qu·∫£n L√Ω M·∫≠t Kh·∫©u</h1>

                <!-- Form ƒëƒÉng nh·∫≠p -->
                <div id="login-form" class="auth-form active">
                    <h2>ƒêƒÉng Nh·∫≠p</h2>
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="login-username">T√™n ƒëƒÉng nh·∫≠p:</label>
                            <input type="text" id="login-username" required>
                        </div>
                        <div class="form-group">
                            <label for="login-password">M·∫≠t kh·∫©u:</label>
                            <input type="password" id="login-password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">ƒêƒÉng Nh·∫≠p</button>
                    </form>
                    <p class="auth-switch">
                        Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" onclick="switchToRegister()">ƒêƒÉng k√Ω ngay</a>
                    </p>
                </div>

                <!-- Form ƒëƒÉng k√Ω -->
                <div id="register-form" class="auth-form">
                    <h2>ƒêƒÉng K√Ω</h2>
                    <form id="registerForm">
                        <div class="form-group">
                            <label for="register-username">T√™n ƒëƒÉng nh·∫≠p:</label>
                            <input type="text" id="register-username" required>
                        </div>
                        <div class="form-group">
                            <label for="register-password">M·∫≠t kh·∫©u:</label>
                            <input type="password" id="register-password" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">X√°c nh·∫≠n m·∫≠t kh·∫©u:</label>
                            <input type="password" id="confirm-password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">ƒêƒÉng K√Ω</button>
                    </form>
                    <p class="auth-switch">
                        ƒê√£ c√≥ t√†i kho·∫£n? <a href="#" onclick="switchToLogin()">ƒêƒÉng nh·∫≠p</a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Giao di·ªán ch√≠nh qu·∫£n l√Ω m·∫≠t kh·∫©u -->
        <div id="main-section" class="main-section hidden">
            <header class="header">
                <h1>Qu·∫£n L√Ω M·∫≠t Kh·∫©u</h1>
                <div class="user-info">
                    <span id="username-display"></span>
                    <button onclick="logout()" class="btn btn-secondary">ƒêƒÉng Xu·∫•t</button>
                </div>
            </header>

            <div class="content">
                <!-- Form th√™m m·∫≠t kh·∫©u m·ªõi -->
                <div class="password-form-section">
                    <h2>Th√™m M·∫≠t Kh·∫©u M·ªõi</h2>
                    <form id="passwordForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="website">Website:</label>
                                <input type="text" id="website" placeholder="vd: google.com" required>
                            </div>
                            <div class="form-group">
                                <label for="username-field">T√™n ƒëƒÉng nh·∫≠p:</label>
                                <input type="text" id="username-field" placeholder="T√™n ƒëƒÉng nh·∫≠p tr√™n website"
                                    required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="password">M·∫≠t kh·∫©u:</label>
                                <div class="password-field">
                                    <input type="password" id="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u c·ªßa b·∫°n" required
                                        style="width: 100%;">
                                    <button type="button" onclick="togglePasswordVisibility('password')"
                                        class="btn-icon">üëÅÔ∏è</button>
                                </div>

                            </div>
                            <div class="form-group">
                                <label for="master-password">Master Password:</label>
                                <div class="password-field">
                                    <input type="password" id="master-password" placeholder="M·∫≠t kh·∫©u ch√≠nh ƒë·ªÉ m√£ h√≥a"
                                        required style="width: 100%;">
                                    <button type="button" onclick="togglePasswordVisibility('master-password')"
                                        class="btn-icon">üëÅÔ∏è</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Th√™m M·∫≠t Kh·∫©u</button>
                            <button type="button" onclick="generatePassword()" class="btn btn-secondary">T·∫°o Master
                                Password
                                Ng·∫´u Nhi√™n</button>
                        </div>
                    </form>
                </div>

                <!-- Danh s√°ch m·∫≠t kh·∫©u -->
                <div class="passwords-section">
                    <h2>Danh S√°ch M·∫≠t Kh·∫©u</h2>
                    <div class="search-section">
                        <input type="text" id="search-input" placeholder="T√¨m ki·∫øm theo website..."
                            onkeyup="filterPasswords()">
                    </div>
                    <div id="passwords-list" class="passwords-list">
                        <!-- Danh s√°ch m·∫≠t kh·∫©u s·∫Ω ƒë∆∞·ª£c t·∫£i ·ªü ƒë√¢y -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal xem chi ti·∫øt m·∫≠t kh·∫©u -->
        <div id="password-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Chi Ti·∫øt M·∫≠t Kh·∫©u</h3>
                    <span class="close" onclick="closeModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Website:</label>
                        <input type="text" id="modal-website" readonly>
                    </div>
                    <div class="form-group">
                        <label>T√™n ƒëƒÉng nh·∫≠p:</label>
                        <input type="text" id="modal-username" readonly>
                    </div>
                    <div class="form-group">
                        <label>M·∫≠t kh·∫©u:</label>
                        <div class="password-field">
                            <input type="password" id="modal-password" readonly>
                            <button type="button" onclick="togglePasswordVisibility('modal-password')"
                                class="btn-icon">üëÅÔ∏è</button>
                            <button type="button" onclick="copyToClipboard('modal-password')"
                                class="btn-icon">üìã</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="password" id="modal-master-password" style="display: none;">
                    </div>
                </div>
                <div class="modal-footer">
                    <button onclick="editPassword()" class="btn btn-primary">Ch·ªânh S·ª≠a</button>
                    <button onclick="deletePassword()" class="btn btn-danger">X√≥a</button>
                    <button onclick="closeModal()" class="btn btn-secondary">ƒê√≥ng</button>
                </div>
            </div>
        </div>

        <!-- Modal ch·ªânh s·ª≠a m·∫≠t kh·∫©u -->
        <div id="edit-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Ch·ªânh S·ª≠a M·∫≠t Kh·∫©u</h3>
                    <span class="close" onclick="closeEditModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <form id="editPasswordForm">
                        <div class="form-group">
                            <label for="edit-website">Website:</label>
                            <input type="text" id="edit-website" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-username">T√™n ƒëƒÉng nh·∫≠p:</label>
                            <input type="text" id="edit-username" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-password">M·∫≠t kh·∫©u m·ªõi (ƒë·ªÉ tr·ªëng n·∫øu kh√¥ng ƒë·ªïi):</label>
                            <input type="password" id="edit-password">
                        </div>
                        <div class="form-group">
                            <label for="edit-master-password">Master Password:</label>
                            <input type="password" id="edit-master-password" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button onclick="savePasswordEdit()" class="btn btn-primary">L∆∞u Thay ƒê·ªïi</button>
                    <button onclick="closeEditModal()" class="btn btn-secondary">H·ªßy</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Th√¥ng b√°o -->
    <div id="notification" class="notification hidden">
        <span id="notification-message"></span>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>

</html>